---
title: "Heist - HackTheBox"
layout: single
excerpt: "Esta es una máquina fácil, para su intrusión encontré credenciales en una ruta del servidor web, las utilice para dumpear más usuarios con lookupsid.py, con el usuario Chase me autentique con una contraseña craqueada, para la escalada de privilegios dumpee un proceso de Firefox con procdump64.exe y filtre en el volcado por login.php y me reporto credenciales de acceso con Administrador."
header:
show_date: true
classes: wide
header:
  teaser: "https://user-images.githubusercontent.com/69093629/126850695-3236b01e-bdbb-404a-b1a1-46f1dd15ed75.png"
  teaser_home_page: true
  icon: "https://user-images.githubusercontent.com/69093629/125662338-fd8b3b19-3a48-4fb0-b07c-86c047265082.png"
categories:
  - HackTheBox
tags:
  - firefox
  - procdump64.exe
  - evil-winrm
  - lookupsid.py
---

![image (28)](https://user-images.githubusercontent.com/69093629/126850695-3236b01e-bdbb-404a-b1a1-46f1dd15ed75.png)

Empece haciendo un escaneo con `Nmap` para detectar los puertos y servicios que tiene abiertos la maquina.

![nmap1](https://user-images.githubusercontent.com/69093629/126850732-20a2ff50-7dad-4aba-bafb-7c1f101ad833.png)

Viendo que hay un servidor web, me dirigi a él.

![pagina](https://user-images.githubusercontent.com/69093629/126850775-2f65920f-316a-4802-a390-820c880ec4a2.png)

Tenia un panel de `login`, miré el codigo fuente y me di cuenta que habian unas rutas que me llamaron mucho la atencion.

![paginamenaje](https://user-images.githubusercontent.com/69093629/126850819-cd42c4a6-e429-4262-829c-1f8fd04a9b45.png)

Era una conversacion entre un usuario y el `admin`, el usuario le dejaba un link que tenia otra ruta, mire que tenia.

![contraseñaencriptada](https://user-images.githubusercontent.com/69093629/126850852-044365eb-3f3f-4a27-b38e-7834f9d34fc2.png)

Tenia unos cuantos hashes, pense que podrian ser credenciales para el `login` de la pagina principal, crackee el primero con `john the ripper`.

![contraseñacrackeada](https://user-images.githubusercontent.com/69093629/126850911-6ac365e8-fad1-4a32-a6c4-13013b49ec2f.png)

Probe distintos usuarios en el panel de `login` pero no hubo suerte, por lo que pense en otra alternativa, intente dumpeear mas usuarios con el usuario `hazard` y la contraseña crackeada con `john` haciendo uso de la herramienta `lookupsid.py`.

![usodelookupsid](https://user-images.githubusercontent.com/69093629/126850981-bc0420c1-02c7-4f84-969a-9b33ed53973e.png)

Me dumpeeo unos cuantos, con los que tenia me cree un diccionario de usuarios para hacer fuerza bruta con otra contraseña crackeada de otro `hash`.

